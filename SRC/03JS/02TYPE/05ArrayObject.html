<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>


    <script>
        // 배열 : 여러 자료Type을 저장하기 위한 자료구조 
        //----------------------------------        
        //배열의 type 확인
        //----------------------------------
        // let arr = ['str1','str2',null,true,false,undefined,{name:"홍길동",age:15}];
        // console.log(typeof arr);
        // console.log(typeof arr[0]);
        // console.log(typeof arr[1]);
        // console.log(typeof arr[2]);
        // console.log(typeof arr[3]);
        // console.log(typeof arr[4]);
        // console.log(typeof arr[5]);
        // console.log(typeof arr[6],arr[6]);
        // //----------------------------------        
        // //배열의 동적 확장 확인
        // //----------------------------------
        // console.log(arr);
        // arr[7]=100;
        // console.log(arr);
        // arr[10]='helloworld';
        // console.log(arr[8],arr[9],arr[10]);
        // console.log('길이 : ',arr.length);
        // //----------------------------------
        // // 배열 함수 사용해보기(forEach) - 반복문
        // //----------------------------------
        // arr.forEach((item)=>{
        //     console.log('item',item);
        // });
        // //----------------------------------
        // // 배열 함수 사용해보기
        // // push-마지막idx에 요소추가 
        // // pop-마지막idx 요소 제거
        // //----------------------------------
        // arr.push('aaa');arr.push('bbb');arr.push('ccc'); 
        // console.log(arr);
        // arr.pop(),arr.pop();
        // console.log(arr);


        // //----------------------------------
        // // 정렬
        // //----------------------------------

        // let arr_2 = [14, 45,undefined, 56,{"key1":"v1"}, 78, null, 25, 12, "1", 3];
        // arr_2.sort(); //배열의요소들이 문자열로 변환되어 사전편찬순서로 정렬,기본값은 오름차순
        //                 // object와 null은 순서에 따라 정렬
        // arr_2.forEach((item)=>{console.log(item)});
        // console.log(arr_2);

        // arr_2.sort((a,b)=>{return b-a;}); //sort 함수 , 내림차수 요청

        // arr_2.sort((a,b)=>{
        //     // console.log("sort 내로 진입",a,b);
        //     return b-a;});
        // console.log(arr_2);

        //약식표현
        // arr_2.sort((a,b)=>b-a); // arr_2.sort((a,b)=>{return b-a;});  ---->   arr_2.sort((a,b)=>b-a);
        // arr_2.forEach(item=>console.log("item : ", item));  //파라미터 값이 두 개 라면 소괄호는 생략불가능


        //----------------------------------
        // // 필터(filter)
        // 
        //-------------------------
        // let arr_3 = [14, 15.2, 't1',30,ture,null,100,{name:'티모', age: 34},20];
        // let filered_arr1= arr_3.filter((item)=> typeof item =="number");
        // //console.log(filtered_arr1);

        // arr_3.filter(item=>typeof item=='string')
        // .forEach(item=>console.log(item));


        //-----------------------------
        //누적 누산된결과값=배열.reduce((누산변수,item=>{return 연산로직}, 누산변수의 초기값))
        //-----------------------------

        // let arr_4 = [14, 15.2, 't1', 30, ture, null, 100, { name: '티모', age: 34 }, 20];
        // const r_val = arr_4.filter((item) => { return typeof item == "number" })
        //     .reduce((sum, item) => { return sum + item; }, 0)
        // console.log("r_val :", r_val);

        //-------------------------------------------
        // 배열 object 처리 [{},{},{}.......]
        //-------------------------------------------
    //     let arr_5 = [
    //         {pid: "1", pname: "모니터", price:100, amount:50},
    //         {pid: "2", pname: "노트북", price:200, amount:15},
    //         {pid: "3", pname: "냉장고", price:250, amount:30},
    //         {pid: "4", pname: "데스크탑", price:70, amount:19},
    //         {pid: "5", pname: "가습기", price:10, amount:200},
      
    //     ];
    //     // arr_5.forEach(item=>console.log(item))
    //     // console.log("---------------------");
    //     // arr_5.forEach((item,index)=>console.log(index,item.pname))

    //    const filtered_arr1= arr_5.filter(item=>item.price>=100);
    //    console.log(filtered_arr1);

    //    const filtered_arr2= arr_5.filter(item=>item.amount<=30);
    //    console.log(filtered_arr2);

    //    const r_val1= arr_5.filter(item=>item.price>=100).reduce((sum,item) => {return sum +item.price;},0)
    //    console.log("r_val1 : " , r_val1);


    //----------------------------
    // 재구성 배열.map((item)=>{return 재구성할item;})
    //----------------------------


    let arr_6 = [
            {pid: "1", pname: "모니터", price:100, amount:50},
            {pid: "2", pname: "노트북", price:200, amount:15},
            {pid: "3", pname: "냉장고", price:250, amount:30},
            {pid: "4", pname: "데스크탑", price:70, amount:19},
            {pid: "5", pname: "가습기", price:10, amount:200},
            ];

            //수량이 50 이상인 요소만 필터링해서 price가 낮은값 우선 오름차순/ 요소마다 price*amount 항목을 추가
            let maped_arr=arr_6.filter((item)=>{return item.amount>=30})
            .sort((a,b)=>{return a.price-b.price}) //오름차순
            .map((item)=>{
                console.log('in map',item);
                item={...item,'total_price':item.price*item.amount};
                return item;
            });

            console.log('-------------------------RESULT-------------------------------');
            console.log(maped_arr);




            //---------------------------------------
            //문제
            //--------------------------------------
            
            
            
      
        // arr_5.forEach((item,index)=>console.log(index,item["pname"]))
        // 정렬(sort) ,누적(reduce), 필터(filter) , 재구성(map)





    </script>
</body>

</html>